(function(t){function e(e){for(var s,i,n=e[0],c=e[1],u=e[2],d=0,m=[];d<n.length;d++)i=n[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&m.push(o[i][0]),o[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(m.length)m.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,n=1;n<a.length;n++){var c=a[n];0!==o[c]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},o={app:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var u=0;u<n.length;u++)e(n[u]);var l=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},1099:function(t,e,a){},2175:function(t,e,a){"use strict";a("5ce0")},"2dd6":function(t,e,a){"use strict";a("1099")},"32a6":function(t,e,a){},"4b57":function(t,e,a){"use strict";a("df2f")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("7f10");var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{"hide-menu":!t.isMenuVisible||!t.user},attrs:{id:"app"}},[a("Header",{attrs:{title:"Watashi no Kaimono",hideToggle:!t.user,hideUserDropdown:!t.user}}),t.user?a("Menu"):t._e(),t.validatingToken?a("Loading"):a("Content"),a("Footer")],1)},r=[],i=a("1da1"),n=(a("96cf"),a("bc3a")),c=a.n(n),u="__wnk_user",l="https://watashi-no-kaimono-back-end.herokuapp.com";function d(t){t&&t.response&&t.response.data?s["a"].toasted.global.defaultError({msg:t.response.data}):"string"===typeof t?s["a"].toasted.global.defaultError({msg:t}):s["a"].toasted.global.defaultError()}var m=a("2f62"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"header"},[t.hideToggle?t._e():a("a",{staticClass:"toggle",on:{click:t.toggleMenu}},[a("i",{staticClass:"fa fa-lg",class:t.icon})]),a("h1",{staticClass:"title"},[a("router-link",{attrs:{to:"/"}},[t._v(t._s(t.title))])],1),t.hideUserDropdown?t._e():a("UserDropdown")],1)},f=[],b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-dropdown"},[a("div",{staticClass:"user-button"},[a("span",{staticClass:"d-none d-sm-block"},[t._v(t._s(t.user.name))]),a("div",{staticClass:"user-dropdown-img"},[a("Gravatar",{attrs:{email:t.user.email,alt:"User"}})],1),a("i",{staticClass:"fa fa-angle-down"})]),a("div",{staticClass:"user-dropdown-content"},[a("router-link",{attrs:{to:"/admin"}},[a("i",{staticClass:"fa fa-cogs"}),t._v(" Adminstração ")]),a("router-link",{attrs:{to:"/shopping-list"}},[a("i",{staticClass:"fa fa-list-ol"}),t._v(" Lista ")]),a("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[a("i",{staticClass:"fa fa-sign-out"}),t._v(" Sair")])],1)])},v=[],g=a("e06a"),h=a.n(g),y={name:"UserDropdown",components:{Gravatar:h.a},computed:Object(m["b"])(["user"]),methods:{logout:function(){localStorage.removeItem(u),this.$store.commit("setUser",null),this.$router.push({name:"auth"})}}},_=y,k=(a("a09f"),a("2877")),C=Object(k["a"])(_,b,v,!1,null,null,null),S=C.exports,w={name:"Header",components:{UserDropdown:S},props:{title:String,hideToggle:Boolean,hideUserDropdown:Boolean},computed:{icon:function(){return this.$store.state.isMenuVisible?"fa-angle-left":"fa-angle-right"}},methods:{toggleMenu:function(){this.$store.commit("toggleMenu")}}},x=w,$=(a("9f34"),Object(k["a"])(x,p,f,!1,null,null,null)),O=$.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{directives:[{name:"show",rawName:"v-show",value:t.isMenuVisible,expression:"isMenuVisible"}],staticClass:"menu"})},j=[],N={name:"Menu",computed:Object(m["b"])(["isMenuVisible"])},L=N,q=(a("4b57"),Object(k["a"])(L,P,j,!1,null,null,null)),E=q.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("router-view")],1)},A=[],I={name:"Content"},M=I,T=(a("9551"),Object(k["a"])(M,U,A,!1,null,null,null)),D=T.exports,V=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},J=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"footer"},[a("span",[t._v("Copyright "),a("strong",[t._v("Regis Seki")]),t._v(" 2021")])])}],B={name:"Footer"},F=B,H=(a("2175"),Object(k["a"])(F,V,J,!1,null,null,null)),z=H.exports,Q=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},R=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loading"},[s("img",{attrs:{src:a("cf1c"),alt:"loading"}})])}],G={name:"Loading"},K=G,W=(a("2dd6"),Object(k["a"])(K,Q,R,!1,null,null,null)),X=W.exports,Y={name:"App",components:{Header:O,Menu:E,Content:D,Footer:z,Loading:X},computed:Object(m["b"])(["isMenuVisible","user"]),data:function(){return{validatingToken:!0}},methods:{validateToken:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.validatingToken=!0,a=localStorage.getItem(u),s=JSON.parse(a),t.$store.commit("setUser",null),s){e.next=8;break}return t.validatingToken=!1,t.$router.push({name:"auth"}),e.abrupt("return");case 8:return e.prev=8,e.next=11,c.a.post("".concat(l,"/api/v1/refresh_token"),s);case 11:o=e.sent,o.data?(localStorage.setItem(u,JSON.stringify(o.data)),t.$store.commit("setUser",o.data)):(localStorage.removeItem(u),t.$router.push({name:"auth"})),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](8),localStorage.removeItem(u),t.$router.push({name:"auth"});case 19:t.validatingToken=!1;case 20:case"end":return e.stop()}}),e,null,[[8,15]])})))()}},created:function(){this.validateToken()}},Z=Y,tt=(a("034f"),Object(k["a"])(Z,o,r,!1,null,null,null)),et=tt.exports,at=(a("f9e3"),a("2dd8"),a("9f7b"));s["a"].use(at["a"]);var st=a("a65d"),ot=a.n(st);s["a"].use(ot.a,{iconPack:"fontawesome",duration:3e3}),s["a"].toasted.register("defaultSuccess",(function(t){return t.msg?t.msg:"Operação realizada com sucesso!"}),{type:"success",icon:"check"}),s["a"].toasted.register("defaultError",(function(t){return t.msg?t.msg:"Oops.. Erro inesperado"}),{type:"error",icon:"times"}),s["a"].use(m["a"]);var rt=new m["a"].Store({state:{isMenuVisible:!1,user:null},mutations:{toggleMenu:function(t,e){t.user?t.isMenuVisible=void 0===e?!t.isMenuVisible:e:t.isMenuVisible=!1},setUser:function(t,e){t.user=e,e?(c.a.defaults.headers.common["Authorization"]="Bearer ".concat(e.token),t.isMenuVisible=!0):(delete c.a.defaults.headers.common["Authorization"],t.isMenuVisible=!1)}}}),it=a("8c4f"),nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("PageTitle",{attrs:{icon:"fa fa-home",main:"Dashboard",sub:"Watashi No Kaimono"}}),a("div",{staticClass:"stats"},[a("Stat",{attrs:{title:"Categorias",value:t.stat.categories,icon:"fa fa-folder",color:"#d54d50"}}),a("Stat",{attrs:{title:"Subcategorias",value:t.stat.subcategories,icon:"fa fa-file",color:"#d54d50"}}),a("Stat",{attrs:{title:"Produtos",value:t.stat.products,icon:"fa fa-list",color:"#3bc480"}}),a("Stat",{attrs:{title:"Usuários",value:t.stat.users,icon:"fa fa-user",color:"#3282cd"}})],1)],1)},ct=[],ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-title"},[a("h1",[t.icon?a("i",{class:t.icon}):t._e(),t._v(" "+t._s(t.main))]),a("h2",[t._v(t._s(t.sub))]),a("hr")])},lt=[],dt={name:"PageTitle",props:["icon","main","sub"]},mt=dt,pt=(a("a405"),Object(k["a"])(mt,ut,lt,!1,null,null,null)),ft=pt.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stat"},[a("div",{staticClass:"stat-icon"},[a("i",{class:t.icon,style:t.style})]),a("div",{staticClass:"stat-info"},[a("span",{staticClass:"stat-title"},[t._v(t._s(t.title))]),a("span",{staticClass:"stat-value"},[t._v(t._s(t.value))])])])},vt=[],gt={name:"Stat",props:["title","value","icon","color"],computed:{style:function(){return"color: "+(this.color||"#000")}}},ht=gt,yt=(a("5b5c"),Object(k["a"])(ht,bt,vt,!1,null,null,null)),_t=yt.exports,kt={name:"Home",components:{PageTitle:ft,Stat:_t},data:function(){return{stat:{}}},methods:{getStats:function(){var t=this;c.a.get("".concat(l,"/api/v1/stats")).then((function(e){return t.stat=e.data}))}},mounted:function(){this.getStats()}},Ct=kt,St=(a("b497"),Object(k["a"])(Ct,nt,ct,!1,null,null,null)),wt=St.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admim-pages"},[a("PageTitle",{attrs:{icon:"fa fa-cogs",main:"Administração Sistema",sub:"Cadastros"}}),a("div",{staticClass:"admin-pages-tab"},[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:""}},[a("b-tab",{attrs:{title:"Categorias",active:""}},[a("CategoryAdmin")],1),a("b-tab",{attrs:{title:"Subcategorias",active:""}},[a("SubcategoryAdmin")],1),a("b-tab",{attrs:{title:"Produtos",active:""}},[a("ProductAdmin")],1),a("b-tab",{attrs:{title:"Usuários",active:""}},[a("UserAdmin")],1)],1)],1)],1)],1)},$t=[],Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category-admin"},[a("b-form",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.category.id,expression:"category.id"}],attrs:{id:"category-id",type:"hidden"},domProps:{value:t.category.id},on:{input:function(e){e.target.composing||t.$set(t.category,"id",e.target.value)}}}),a("b-form-group",{attrs:{label:"Nome:","label-for":"category-name"}},[a("b-form-input",{attrs:{id:"category-name",type:"text",required:"",readonly:"remove"===t.mode,placeholder:"Informe o Nome da Categoria..."},model:{value:t.category.name,callback:function(e){t.$set(t.category,"name",e)},expression:"category.name"}})],1),a("b-form-group",{attrs:{label:"Descrição:","label-for":"category-description"}},[a("b-form-input",{attrs:{id:"category-description",type:"text",required:"",readonly:"remove"===t.mode,placeholder:"Informe uma Descrição para a Categoria..."},model:{value:t.category.description,callback:function(e){t.$set(t.category,"description",e)},expression:"category.description"}})],1),"save"===t.mode?a("b-button",{attrs:{variant:"primary"},on:{click:t.save}},[t._v("Salvar")]):t._e(),"remove"===t.mode?a("b-button",{attrs:{variant:"danger"},on:{click:t.remove}},[t._v("Excluir")]):t._e(),a("b-button",{staticClass:"ml-2",on:{click:t.reset}},[t._v("Cancelar")])],1),a("hr"),a("b-table",{attrs:{hover:"",striped:"",items:t.categories,fields:t.fields},scopedSlots:t._u([{key:"actions",fn:function(e){return[a("b-button",{staticClass:"mr-2",attrs:{variant:"warning"},on:{click:function(a){return t.loadCategory(e.item)}}},[a("i",{staticClass:"fa fa-pencil"})]),a("b-button",{attrs:{variant:"danger"},on:{click:function(a){return t.loadCategory(e.item,"remove")}}},[a("i",{staticClass:"fa fa-trash"})])]}}])})],1)},Pt=[],jt=a("5530"),Nt=(a("d81d"),a("99af"),{name:"CategoryAdmin",data:function(){return{mode:"save",category:{},categories:[],fields:[{key:"id",label:"Código",sortable:!0},{key:"name",label:"Nome",sortable:!0},{key:"description",label:"Descrição",sortable:!0},{key:"actions",label:"Ações"}]}},methods:{loadCategories:function(){var t=this,e="".concat(l,"/api/v1/categories");c.a.get(e).then((function(e){t.categories=e.data.map((function(t){return Object(jt["a"])(Object(jt["a"])({},t),{},{value:t.id})}))}))},reset:function(){this.mode="save",this.category={},this.loadCategories()},save:function(){var t=this,e=this.category.id?"put":"post",a=this.category.id?"/".concat(this.category.id):"";c.a[e]("".concat(l,"/api/v1/categories/").concat(a),this.category).then((function(){t.$toasted.global.defaultSuccess(),t.reset()})).catch(d)},remove:function(){var t=this,e=this.category.id;c.a.delete("".concat(l,"/api/v1/categories/").concat(e)).then((function(){t.$toasted.global.defaultSuccess(),t.reset()})).catch(d)},loadCategory:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"save";this.mode=e,this.category=Object(jt["a"])({},t)}},mounted:function(){this.loadCategories()}}),Lt=Nt,qt=Object(k["a"])(Lt,Ot,Pt,!1,null,null,null),Et=qt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"subcategory-admin"},[a("b-form",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.subcategory.id,expression:"subcategory.id"}],attrs:{id:"subcategory-id",type:"hidden"},domProps:{value:t.subcategory.id},on:{input:function(e){e.target.composing||t.$set(t.subcategory,"id",e.target.value)}}}),"save"===t.mode?a("b-form-group",{attrs:{label:"Categoria:","label-for":"categoryId"}},[a("b-form-select",{attrs:{id:"category_id",options:t.categories},model:{value:t.subcategory.category_id,callback:function(e){t.$set(t.subcategory,"category_id",e)},expression:"subcategory.category_id"}})],1):t._e(),a("b-form-group",{attrs:{label:"Nome:","label-for":"subcategory-name"}},[a("b-form-input",{attrs:{id:"subcategory-name",type:"text",required:"",readonly:"remove"===t.mode,placeholder:"Informe o Nome da Subcategoria..."},model:{value:t.subcategory.name,callback:function(e){t.$set(t.subcategory,"name",e)},expression:"subcategory.name"}})],1),a("b-form-group",{attrs:{label:"Descrição:","label-for":"subcategory-description"}},[a("b-form-input",{attrs:{id:"subcategory-description",type:"text",required:"",readonly:"remove"===t.mode,placeholder:"Informe uma Descrição para a Subcategoria..."},model:{value:t.subcategory.description,callback:function(e){t.$set(t.subcategory,"description",e)},expression:"subcategory.description"}})],1),"save"===t.mode?a("b-button",{attrs:{variant:"primary"},on:{click:t.save}},[t._v("Salvar")]):t._e(),"remove"===t.mode?a("b-button",{attrs:{variant:"danger"},on:{click:t.remove}},[t._v("Excluir")]):t._e(),a("b-button",{staticClass:"ml-2",on:{click:t.reset}},[t._v("Cancelar")])],1),a("hr"),a("b-table",{attrs:{hover:"",striped:"",items:t.subcategories,fields:t.fields},scopedSlots:t._u([{key:"actions",fn:function(e){return[a("b-button",{staticClass:"mr-2",attrs:{variant:"warning"},on:{click:function(a){return t.loadSubcategory(e.item)}}},[a("i",{staticClass:"fa fa-pencil"})]),a("b-button",{attrs:{variant:"danger"},on:{click:function(a){return t.loadSubcategory(e.item,"remove")}}},[a("i",{staticClass:"fa fa-trash"})])]}}])})],1)},At=[],It=(a("b0c0"),{name:"SubcategoryAdmin",data:function(){return{mode:"save",subcategory:{},categories:[],subcategories:[],fields:[{key:"id",label:"Código",sortable:!0},{key:"name",label:"Nome",sortable:!0},{key:"description",label:"Descrição",sortable:!0},{key:"category",label:"Categoria",sortable:!0},{key:"actions",label:"Ações"}]}},methods:{loadCategories:function(){var t=this,e="".concat(l,"/api/v1/categories");c.a.get(e).then((function(e){t.categories=e.data.map((function(t){return{value:t.id,text:t.name}}))}))},loadSubcategories:function(){var t=this,e="".concat(l,"/api/v1/subcategories");c.a.get(e).then((function(e){t.subcategories=e.data.map((function(t){return Object(jt["a"])(Object(jt["a"])({},t),{},{value:t.id})}))}))},reset:function(){this.mode="save",this.subcategory={},this.loadSubcategories()},save:function(){var t=this,e=this.subcategory.id?"put":"post",a=this.subcategory.id?"/".concat(this.subcategory.id):"";c.a[e]("".concat(l,"/api/v1/subcategories/").concat(a),this.subcategory).then((function(){t.$toasted.global.defaultSuccess(),t.reset()})).catch(d)},remove:function(){var t=this,e=this.subcategory.id;c.a.delete("".concat(l,"/api/v1/subcategories/").concat(e)).then((function(){t.$toasted.global.defaultSuccess(),t.reset()})).catch(d)},loadSubcategory:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"save";this.mode=e,this.subcategory=Object(jt["a"])({},t)}},mounted:function(){this.loadSubcategories(),this.loadCategories()}}),Mt=It,Tt=Object(k["a"])(Mt,Ut,At,!1,null,null,null),Dt=Tt.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-admin"},[a("b-form",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.id,expression:"product.id"}],attrs:{id:"product-id",type:"hidden"},domProps:{value:t.product.id},on:{input:function(e){e.target.composing||t.$set(t.product,"id",e.target.value)}}}),"save"===t.mode?a("b-form-group",{attrs:{label:"Subcategoria:","label-for":"subcategoryId"}},[a("b-form-select",{attrs:{id:"subcategory_id",options:t.subcategories},model:{value:t.product.subcategory_id,callback:function(e){t.$set(t.product,"subcategory_id",e)},expression:"product.subcategory_id"}})],1):t._e(),a("b-form-group",{attrs:{label:"Nome:","label-for":"product-name"}},[a("b-form-input",{attrs:{id:"product-name",type:"text",required:"",readonly:"remove"===t.mode,placeholder:"Informe o Nome do Produto..."},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name",e)},expression:"product.name"}})],1),a("b-form-group",{attrs:{label:"Código:","label-for":"product-code"}},[a("b-form-input",{attrs:{id:"product-code",type:"text",required:"",readonly:"remove"===t.mode,placeholder:"Informe o Código do Produto (Código Barras)..."},model:{value:t.product.code,callback:function(e){t.$set(t.product,"code",e)},expression:"product.code"}})],1),a("b-form-group",{attrs:{label:"Url Imagem do produto:","label-for":"product-url_img"}},[a("b-form-input",{attrs:{id:"product-url_img",type:"text",readonly:"remove"===t.mode,placeholder:"Informe a Url da imagem do Produto..."},model:{value:t.product.url_img,callback:function(e){t.$set(t.product,"url_img",e)},expression:"product.url_img"}})],1),"save"===t.mode?a("b-button",{attrs:{variant:"primary"},on:{click:t.save}},[t._v("Salvar")]):t._e(),"remove"===t.mode?a("b-button",{attrs:{variant:"danger"},on:{click:t.remove}},[t._v("Excluir")]):t._e(),a("b-button",{staticClass:"ml-2",on:{click:t.reset}},[t._v("Cancelar")])],1),a("hr"),a("b-table",{attrs:{hover:"",striped:"",items:t.products,fields:t.fields},scopedSlots:t._u([{key:"actions",fn:function(e){return[a("b-button",{staticClass:"mr-2",attrs:{variant:"warning"},on:{click:function(a){return t.loadProduct(e.item)}}},[a("i",{staticClass:"fa fa-pencil"})]),a("b-button",{attrs:{variant:"danger"},on:{click:function(a){return t.loadProduct(e.item,"remove")}}},[a("i",{staticClass:"fa fa-trash"})])]}}])})],1)},Jt=[],Bt={name:"ProductsAdmin",data:function(){return{mode:"save",product:{},products:[],subcategories:[],fields:[{key:"id",label:"Código",sortable:!0},{key:"name",label:"Nome",sortable:!0},{key:"code",label:"Código de Barras"},{key:"category",label:"Categoria",sortable:!0},{key:"subcategory",label:"Subcategoria",sortable:!0},{key:"actions",label:"Ações"}]}},methods:{loadProducts:function(){var t=this,e="".concat(l,"/api/v1/products");c.a.get(e).then((function(e){t.products=e.data.map((function(t){return Object(jt["a"])(Object(jt["a"])({},t),{},{value:t.id})}))}))},loadSubcategories:function(){var t=this,e="".concat(l,"/api/v1/subcategories");c.a.get(e).then((function(e){t.subcategories=e.data.map((function(t){return{value:t.id,text:t.name}}))}))},reset:function(){this.mode="save",this.product={},this.loadProducts()},save:function(){var t=this,e=this.product.id?"put":"post",a=this.product.id?"/".concat(this.product.id):"";c.a[e]("".concat(l,"/api/v1/products/").concat(a),this.product).then((function(){t.$toasted.global.defaultSuccess(),t.reset()})).catch(d)},remove:function(){var t=this,e=this.product.id;c.a.delete("".concat(l,"/api/v1/products/").concat(e)).then((function(){t.$toasted.global.defaultSuccess(),t.reset()})).catch(d)},loadProduct:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"save";this.mode=e,this.product=Object(jt["a"])({},t)}},mounted:function(){this.loadSubcategories(),this.loadProducts()}},Ft=Bt,Ht=Object(k["a"])(Ft,Vt,Jt,!1,null,null,null),zt=Ht.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-admin"},[a("b-form",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.id,expression:"user.id"}],attrs:{id:"user-id",type:"hidden"},domProps:{value:t.user.id},on:{input:function(e){e.target.composing||t.$set(t.user,"id",e.target.value)}}}),a("b-row",[a("b-col",{attrs:{md:"6",sm:"12"}},[a("b-form-group",{attrs:{label:"Nome:","label-for":"user-name"}},[a("b-form-input",{attrs:{id:"user-name",type:"text",required:"",readonly:"remove"===t.mode,placeholder:"Informe o Nome do Usuário..."},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1)],1),a("b-col",{attrs:{md:"6",sm:"12"}},[a("b-form-group",{attrs:{label:"E-email:","label-for":"user-email"}},[a("b-form-input",{attrs:{id:"user-email",type:"text",required:"",readonly:"remove"===t.mode,placeholder:"Informe o E-mail do Usuário..."},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1)],1)],1),a("b-form-checkbox",{directives:[{name:"show",rawName:"v-show",value:"save"===t.mode,expression:"mode === 'save'"}],staticClass:"mt-3 mb-3",attrs:{id:"user-admin"},model:{value:t.user.admin,callback:function(e){t.$set(t.user,"admin",e)},expression:"user.admin"}},[t._v(" Administrador? ")]),a("b-row",{directives:[{name:"show",rawName:"v-show",value:"save"===t.mode,expression:"mode === 'save'"}]},[a("b-col",{attrs:{md:"6",sm:"12"}},[a("b-form-group",{attrs:{label:"Senha:","label-for":"user-password"}},[a("b-form-input",{attrs:{id:"user-password",type:"password",required:"",placeholder:"Informe a Senha do Usuário..."},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1)],1),a("b-col",{attrs:{md:"6",sm:"12"}},[a("b-form-group",{attrs:{label:"Confirmação de Senha:","label-for":"user-confirm-password"}},[a("b-form-input",{attrs:{id:"user-confirm-password",type:"password",required:"",placeholder:"Confirme a Senha do Usuário..."},model:{value:t.user.password_confirmation,callback:function(e){t.$set(t.user,"password_confirmation",e)},expression:"user.password_confirmation"}})],1)],1)],1),a("b-row",[a("b-col",{attrs:{xs:"12"}},["save"===t.mode?a("b-button",{attrs:{variant:"primary"},on:{click:t.save}},[t._v("Salvar")]):t._e(),"remove"==t.mode?a("b-button",{attrs:{variant:"danger"},on:{click:t.remove}},[t._v("Excluir")]):t._e(),a("b-button",{staticClass:"ml-2",on:{click:t.reset}},[t._v("Cancelar")])],1)],1)],1),a("hr"),a("b-table",{attrs:{hover:"",striped:"",items:t.users,fields:t.fields},scopedSlots:t._u([{key:"actions",fn:function(e){return[a("b-button",{staticClass:"mr-2",attrs:{variant:"warning"},on:{click:function(a){return t.loadUser(e.item)}}},[a("i",{staticClass:"fa fa-pencil"})]),a("b-button",{attrs:{variant:"danger"},on:{click:function(a){return t.loadUser(e.item,"remove")}}},[a("i",{staticClass:"fa fa-trash"})])]}}])})],1)},Rt=[],Gt={name:"UserAdmin",data:function(){return{mode:"save",user:{},users:[],fields:[{key:"id",label:"Código",sortable:!0},{key:"username",label:"Nome Usuário",sortable:!0},{key:"actions",label:"Ações"}]}},methods:{loadUsers:function(){var t=this,e="".concat(l,"/api/v1/users");c.a.get(e).then((function(e){t.users=e.data}))},reset:function(){this.mode="save",this.user={},this.loadUsers()},save:function(){var t=this,e=this.id?"put":"post",a=this.user.id?"".concat(this.user.id):"",s={user:this.user};c.a[e]("".concat(l,"/api/v1/users/").concat(a),s).then((function(){t.$toasted.global.defaultSuccess(),t.reset()})).catch(d)},remove:function(){var t=this,e=this.user.id;c.a.delete("".concat(l,"/api/v1/users/").concat(e)).then((function(){t.$toasted.global.defaultSuccess(),t.reset()})).catch(d)},loadUser:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"save";this.mode=e,this.user=Object(jt["a"])({},t)}},mounted:function(){this.loadUsers()}},Kt=Gt,Wt=Object(k["a"])(Kt,Qt,Rt,!1,null,null,null),Xt=Wt.exports,Yt={name:"AdminPages",components:{PageTitle:ft,CategoryAdmin:Et,SubcategoryAdmin:Dt,ProductAdmin:zt,UserAdmin:Xt}},Zt=Yt,te=Object(k["a"])(Zt,xt,$t,!1,null,null,null),ee=te.exports,ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"auth-content"},[s("div",{staticClass:"auth-modal"},[s("img",{attrs:{src:a("a4e0"),width:"200",alt:"logo"}}),s("hr"),s("div",{staticClass:"auth-title"},[t._v(t._s(t.showSignup?"Cadastro":"Login"))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],attrs:{type:"text",placeholder:"Nome"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],attrs:{type:"text",placeholder:"E-mail"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{type:"password",placeholder:"Senha"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t.showSignup?s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password_confirmation,expression:"user.password_confirmation"}],attrs:{type:"password",placeholder:"Confirme a Senha"},domProps:{value:t.user.password_confirmation},on:{input:function(e){e.target.composing||t.$set(t.user,"password_confirmation",e.target.value)}}}):t._e(),t.showSignup?s("button",{on:{click:t.signup}},[t._v("Cadastrar")]):s("button",{on:{click:t.signin}},[t._v("Login")]),s("a",{attrs:{href:""},on:{click:function(e){e.preventDefault(),t.showSignup=!t.showSignup}}},[t.showSignup?s("span",[t._v("Já tem cadastro? Acesse o Login")]):s("span",[t._v("Não tem cadastro? Cadastre-se aqui")])])])])},se=[],oe={name:"Auth",data:function(){return{showSignup:!1,user:{}}},methods:{signin:function(){var t=this;c.a.post("".concat(l,"/api/v1/authenticate"),this.user).then((function(e){t.$store.commit("setUser",e.data),localStorage.setItem(u,JSON.stringify(e.data)),t.$router.push({path:"/"})})).catch(d)},signup:function(){var t=this,e={user:this.user};c.a.post("".concat(l,"/api/v1/users"),e).then((function(){t.$toasted.global.defaultSuccess(),t.user={},t.showSignup=!1})).catch(d)}}},re=oe,ie=(a("ee68"),Object(k["a"])(re,ae,se,!1,null,null,null)),ne=ie.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shopping-list"},[a("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing",title:"Adicione a quantidade requerida:"},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleOk}},[a("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[a("b-form-group",{attrs:{label:"Quantidade","label-for":"quantity-input","invalid-feedback":"Quantidade é requirida",state:t.quantityState}},[a("b-form-input",{attrs:{type:"number",id:"quantity-input",state:t.quantityState,required:""},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1)],1)]),a("h4",[t._v("Lista de Compras")]),a("b-navbar",{attrs:{type:"light",variant:"light"}},[a("b-nav-form",[a("b-form-input",{staticClass:"mr-sm-2",attrs:{placeholder:"Nome da lista"},model:{value:t.listName,callback:function(e){t.listName=e},expression:"listName"}}),a("b-button",{staticClass:"my-2 my-sm-0",attrs:{variant:"outline-success"},on:{click:function(e){return t.createList()}}},[t._v("Criar")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.shoppingLists,expression:"shoppingLists !=''"}],staticClass:"shopping-lists-select"},[a("b-form-select",{staticClass:"mb-3",attrs:{options:t.shoppingLists},on:{change:function(e){return t.loadProductsList(e)}},model:{value:t.selectedShoppingList,callback:function(e){t.selectedShoppingList=e},expression:"selectedShoppingList"}})],1),a("b-navbar",{directives:[{name:"show",rawName:"v-show",value:""!=t.shoppingLists&&""!=this.selectedShoppingList,expression:"shoppingLists !='' && this.selectedShoppingList != ''"}],attrs:{type:"light",variant:"light"}},[a("b-nav-form",[a("b-form-input",{staticClass:"mr-sm-2",attrs:{placeholder:"Nome do produto"},model:{value:t.productSearchable,callback:function(e){t.productSearchable=e},expression:"productSearchable"}}),a("b-button",{staticClass:"my-2 my-sm-0",attrs:{variant:"outline-success"},on:{click:function(e){return t.searchProduct()}}},[t._v("Procurar")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.products,expression:"products != ''"}],staticClass:"product-list"},[a("b-table",{attrs:{hover:"",striped:"",items:t.products,fields:t.fields},scopedSlots:t._u([{key:"add",fn:function(e){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],staticClass:"mr-2",attrs:{variant:"success"},on:{click:function(a){return t.addProductToList(e.item)}}},[a("i",{staticClass:"fa fa-cart-plus"})])]}}])})],1),a("hr"),a("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.listItems,expression:"listItems != ''"}],staticClass:"list-items"},[a("b-table",{attrs:{hover:"",striped:"",items:t.listItems,fields:t.fieldsListItems}})],1)],1)},ue=[],le={name:"ShoppingList",data:function(){return{quantityState:null,quantity:"",productSearchable:"",listName:"",selectedShoppingList:"",selecteditem:"",shoppingList:{},shoppingLists:[],listItems:[],listItem:{},products:[],product:{},fields:[{key:"name",Label:"Nome"},{key:"subcategory",label:"Subcategoria"},{key:"add",label:"Adicionar na lista"}],fieldsListItems:[{key:"product_name",label:"Produto"},{key:"quantity",label:"Quantidade"}]}},methods:{checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.quantityState=t,t},resetModal:function(){this.quantity="",this.quantityState=null},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(){var t=this;if(this.checkFormValidity()){var e={list_item:{shopping_list_id:this.selectedShoppingList,product_id:this.selecteditem,required_quantity:this.quantity}};c.a.post("".concat(l,"/api/v1/list_items"),e).then((function(){t.$toasted.global.defaultSuccess(),t.loadProductsList(t.selectedShoppingList)})).catch(d),this.$root.$emit("bv::hide::modal","modal-prevent-closing")}},searchProduct:function(){var t=this,e="".concat(l,"/api/v1/products/search");c.a.get(e,{params:{product:this.productSearchable}}).then((function(e){t.products=e.data.map((function(t){return Object(jt["a"])(Object(jt["a"])({},t),{},{value:t.id})}))}))},createList:function(){var t=this,e={shopping_list:{name:this.listName}};c.a.post("".concat(l,"/api/v1/shopping_lists"),e).then((function(){t.$toasted.global.defaultSuccess(),t.reset()})).catch(d)},reset:function(){this.listName="",this.loadShoppingLists()},loadShoppingLists:function(){var t=this,e="".concat(l,"/api/v1/shopping_lists");c.a.get(e).then((function(e){t.shoppingLists=e.data.map((function(t){return{value:t.id,text:t.name}}))}))},addProductToList:function(t){this.selecteditem=t.id},loadProductsList:function(t){var e=this,a="".concat(l,"/api/v1/list_items");c.a.get(a,{params:{shopping_list_id:t}}).then((function(t){e.listItems=t.data.map((function(t){return Object(jt["a"])(Object(jt["a"])({},t),{},{value:t.id})}))}))}},mounted:function(){this.loadShoppingLists()}},de=le,me=Object(k["a"])(de,ce,ue,!1,null,null,null),pe=me.exports;s["a"].use(it["a"]);var fe=[{name:"home",path:"/",component:wt},{name:"adminPages",path:"/admin",component:ee},{name:"auth",path:"/auth",component:ne},{name:"shoppingList",path:"/shopping-list",component:pe}],be=new it["a"]({mode:"history",routes:fe});s["a"].config.productionTip=!1,new s["a"]({store:rt,router:be,render:function(t){return t(et)}}).$mount("#app")},"5b5c":function(t,e,a){"use strict";a("81a0")},"5ce0":function(t,e,a){},6698:function(t,e,a){},"6a5c":function(t,e,a){},"77df":function(t,e,a){},"81a0":function(t,e,a){},8313:function(t,e,a){},"85ec":function(t,e,a){},9551:function(t,e,a){"use strict";a("32a6")},"9f34":function(t,e,a){"use strict";a("6698")},a09f:function(t,e,a){"use strict";a("77df")},a405:function(t,e,a){"use strict";a("a90e")},a4e0:function(t,e,a){t.exports=a.p+"img/shoplist.4f6a3cf9.png"},a90e:function(t,e,a){},b497:function(t,e,a){"use strict";a("8313")},cf1c:function(t,e,a){t.exports=a.p+"img/loading.8a7630ca.gif"},df2f:function(t,e,a){},ee68:function(t,e,a){"use strict";a("6a5c")}});
//# sourceMappingURL=app.9b132cc9.js.map